<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<ScrollPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="controllers.ProfileController"
            fitToWidth="true"
            hbarPolicy="NEVER"
            style="-fx-background-color: #f5f6fa; -fx-background: #f5f6fa;">

    <content>
        <VBox spacing="25"
              style="-fx-padding: 30; -fx-background-color: #f5f6fa;">

            <!-- Page Header -->
            <HBox alignment="CENTER_LEFT" spacing="15">
                <VBox spacing="5">
                    <Label text="My Profile"
                           style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                    <Label text="Manage your personal information and preferences"
                           style="-fx-font-size: 13px; -fx-text-fill: #7f8c8d;"/>
                </VBox>
                <Region HBox.hgrow="ALWAYS"/>
                <Label fx:id="statusLabel" text=""
                       style="-fx-text-fill: #27ae60; -fx-font-size: 13px; -fx-font-weight: bold;"/>
            </HBox>

            <!-- Profile Header Card -->
            <HBox spacing="20" alignment="CENTER_LEFT"
                  style="-fx-background-color: white;
                         -fx-background-radius: 12;
                         -fx-padding: 25;
                         -fx-effect: dropshadow(gaussian,rgba(0,0,0,0.08),12,0,0,2);">

                <!-- Avatar -->
                <StackPane style="-fx-background-color: linear-gradient(to bottom right, #1abc9c, #16a085);
                                 -fx-background-radius: 50;
                                 -fx-min-width: 100;
                                 -fx-min-height: 100;
                                 -fx-max-width: 100;
                                 -fx-max-height: 100;">
                    <Label text="ðŸ‘¤" style="-fx-font-size: 48px;"/>
                </StackPane>

                <!-- User Info -->
                <VBox spacing="8">
                    <Label fx:id="welcomeLabel" text="Welcome ðŸ‘‹"
                           style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                    <Label fx:id="emailLabel" text=""
                           style="-fx-text-fill: #7f8c8d; -fx-font-size: 14px;"/>
                </VBox>

                <Region HBox.hgrow="ALWAYS"/>

                <!-- Show Profile Button -->
                <Button fx:id="showProfileBtn"
                        text="ðŸ“‹ Show Profile Details"
                        onAction="#handleShowProfile"
                        prefHeight="42" prefWidth="220"
                        style="-fx-background-color: #3498db;
                               -fx-text-fill: white;
                               -fx-font-size: 14px;
                               -fx-font-weight: bold;
                               -fx-background-radius: 8;
                               -fx-cursor: hand;"/>
            </HBox>

            <!-- Profile Form Card -->
            <VBox spacing="20"
                  style="-fx-background-color: white;
                         -fx-background-radius: 12;
                         -fx-padding: 30;
                         -fx-effect: dropshadow(gaussian,rgba(0,0,0,0.08),12,0,0,2);">

                <Label text="Profile Information"
                       style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>

                <!-- Goals Section -->
                <VBox spacing="8">
                    <HBox alignment="CENTER_LEFT">
                        <Label text="Goals"
                               style="-fx-font-size: 13px; -fx-font-weight: bold; -fx-text-fill: #34495e;"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button fx:id="deleteGoalsBtn"
                                text="ðŸ—‘ï¸ Clear"
                                onAction="#handleDeleteGoals"
                                style="-fx-background-color: #e74c3c;
                                       -fx-text-fill: white;
                                       -fx-font-size: 11px;
                                       -fx-background-radius: 6;
                                       -fx-padding: 4 10;
                                       -fx-cursor: hand;"/>
                    </HBox>
                    <TextArea fx:id="goalsField"
                              promptText="What are your mental health goals? (e.g., reduce anxiety, improve sleep...)"
                              prefRowCount="3"
                              wrapText="true"
                              style="-fx-background-radius: 8;
                                     -fx-border-color: #dfe6e9;
                                     -fx-border-radius: 8;
                                     -fx-border-width: 1;
                                     -fx-font-size: 13px;
                                     -fx-padding: 12;"/>
                </VBox>

                <!-- Interests Section -->
                <VBox spacing="8">
                    <HBox alignment="CENTER_LEFT">
                        <Label text="Interests &amp; Hobbies"
                               style="-fx-font-size: 13px; -fx-font-weight: bold; -fx-text-fill: #34495e;"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button fx:id="deleteInterestsBtn"
                                text="ðŸ—‘ï¸ Clear"
                                onAction="#handleDeleteInterests"
                                style="-fx-background-color: #e74c3c;
                                       -fx-text-fill: white;
                                       -fx-font-size: 11px;
                                       -fx-background-radius: 6;
                                       -fx-padding: 4 10;
                                       -fx-cursor: hand;"/>
                    </HBox>
                    <TextArea fx:id="interestsField"
                              promptText="What do you enjoy doing? (e.g., reading, yoga, painting...)"
                              prefRowCount="3"
                              wrapText="true"
                              style="-fx-background-radius: 8;
                                     -fx-border-color: #dfe6e9;
                                     -fx-border-radius: 8;
                                     -fx-border-width: 1;
                                     -fx-font-size: 13px;
                                     -fx-padding: 12;"/>
                </VBox>

                <!-- Bio Section -->
                <VBox spacing="8">
                    <HBox alignment="CENTER_LEFT">
                        <Label text="About Me"
                               style="-fx-font-size: 13px; -fx-font-weight: bold; -fx-text-fill: #34495e;"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button fx:id="deleteBioBtn"
                                text="ðŸ—‘ï¸ Clear"
                                onAction="#handleDeleteBio"
                                style="-fx-background-color: #e74c3c;
                                       -fx-text-fill: white;
                                       -fx-font-size: 11px;
                                       -fx-background-radius: 6;
                                       -fx-padding: 4 10;
                                       -fx-cursor: hand;"/>
                    </HBox>
                    <TextArea fx:id="bioField"
                              promptText="Tell us a little about yourself, your journey, and what brings you to MindNest..."
                              prefRowCount="4"
                              wrapText="true"
                              style="-fx-background-radius: 8;
                                     -fx-border-color: #dfe6e9;
                                     -fx-border-radius: 8;
                                     -fx-border-width: 1;
                                     -fx-font-size: 13px;
                                     -fx-padding: 12;"/>
                </VBox>

                <!-- Action Buttons -->
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <Button fx:id="saveBtn"
                            text="ðŸ’¾ Save Profile"
                            onAction="#handleSave"
                            prefHeight="42" prefWidth="160"
                            style="-fx-background-color: #1abc9c;
                                   -fx-text-fill: white;
                                   -fx-font-size: 14px;
                                   -fx-font-weight: bold;
                                   -fx-background-radius: 8;
                                   -fx-cursor: hand;"/>

                    <Button text="â†©ï¸ Cancel"
                            onAction="#handleCancel"
                            prefHeight="42" prefWidth="110"
                            style="-fx-background-color: #ecf0f1;
                                   -fx-text-fill: #7f8c8d;
                                   -fx-font-size: 14px;
                                   -fx-background-radius: 8;
                                   -fx-cursor: hand;"/>

                    <Region HBox.hgrow="ALWAYS"/>

                    <Button fx:id="deleteBtn"
                            text="ðŸ—‘ï¸ Delete Profile"
                            onAction="#handleDelete"
                            prefHeight="42" prefWidth="160"
                            style="-fx-background-color: #e74c3c;
                                   -fx-text-fill: white;
                                   -fx-font-size: 14px;
                                   -fx-font-weight: bold;
                                   -fx-background-radius: 8;
                                   -fx-cursor: hand;"/>
                </HBox>
            </VBox>

            <Region minHeight="20"/>

        </VBox>
    </content>
</ScrollPane>